---
interface Props {
  name: string;
  brand: string;
  price: number;
  originalPrice?: number;
  image: string;
  rating: number;
  affiliateLink?: string;
  amazonLink: string;
  category: 'manual' | 'semi-automatic' | 'automatic' | 'super-automatic';
  bestFor: 'beginners' | 'intermediate' | 'advanced' | 'all';
  benefitDescription: string;
  features: string[];
  specs: {
    boilerType: string;
    pressure: string;
    waterTank: string;
    dimensions: string;
    warranty: string;
  };
  priceRange: 'budget' | 'mid-range' | 'premium' | 'prosumer';
  featured: boolean;
  order?: number;
}

const { 
  name, 
  brand, 
  price, 
  originalPrice, 
  image, 
  rating, 
  affiliateLink,
  amazonLink,
  category,
  bestFor,
  benefitDescription
} = Astro.props;
---

<article class="bg-primary p-8 border-b border-gray-100">
  <div class="grid md:grid-cols-4 gap-8 items-start">
    <!-- Product Image -->
    <div class="md:col-span-1">
      <img 
        src={image} 
        alt={name}
        class="w-full h-32 object-contain"
      />
    </div>

    <!-- Product Content -->
    <div class="md:col-span-3">
      <!-- Brand and Name -->
      <div class="mb-3">
        <p class="text-sm text-gray-500 uppercase tracking-wide">{brand}</p>
        <h3 class="text-xl font-semibold text-text">
          {name}
        </h3>
      </div>

      <!-- Description -->
      <p class="text-gray-600 mb-4 leading-relaxed">
        {benefitDescription}
      </p>

      <!-- Meta Information -->
      <div class="flex items-center gap-6 text-sm text-gray-500 mb-4">
        <span>Rating: {rating.toFixed(1)}/5</span>
        <span class="capitalize">{category.replace('-', ' ')}</span>
        <span>Best for: {bestFor}</span>
      </div>

      <!-- Price and Action -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <span class="text-xl font-semibold text-text">${price}</span>
          {originalPrice && (
            <span class="text-gray-400 line-through">${originalPrice}</span>
          )}
        </div>
        <a 
          href={affiliateLink || amazonLink}
          target="_blank"
          rel="nofollow noopener"
          class="text-accent hover:text-text text-sm"
        >
          View on Amazon
        </a>
      </div>
    </div>
  </div>
</article>